<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>5‚òÖ Tribute ‚Äî Raila Odinga</title>
<link rel="icon" href="https://i.imgur.com/2KvB6pP.jpg" type="image/jpeg">
<style>
  /* ---------- Base & Reset ---------- */
  * { box-sizing: border-box; }
  html,body { height:100%; }
  body {
    margin: 0;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: #030303;
    color: #f7ecd9;
    overflow: hidden;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 28px;
  }

  /* ---------- Flag: cinematic waving silk with golden tint ---------- */
  .flag-wrap {
    position: fixed;
    inset: 0;
    z-index: 0;
    perspective: 1400px;
    pointer-events: none;
  }
  .flag {
    position:absolute;
    inset: -10% -10% -10% -10%;
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Kenya.svg');
    background-size: 170%;
    background-position: center;
    opacity: 0.16;
    filter: blur(1px) saturate(0.6) contrast(0.95);
    transform-origin: 50% 50%;
    will-change: transform, filter, background-position;
    animation: flagTilt 10s ease-in-out infinite, flagFlow 9s linear infinite;
    mix-blend-mode: screen;
  }
  /* golden tint overlay on flag */
  .flag::after {
    content:"";
    position:absolute; inset:0;
    background: linear-gradient(180deg, rgba(44,32,10,0.28), rgba(0,0,0,0.6));
    mix-blend-mode: multiply;
    pointer-events:none;
  }

  @keyframes flagTilt{
    0% { transform: translateZ(-120px) rotateX(6deg) rotateY(-3deg) translateX(-6px); }
    25%{ transform: translateZ(-90px) rotateX(8deg) rotateY(2deg) translateX(6px); }
    50%{ transform: translateZ(-120px) rotateX(7deg) rotateY(-2deg) translateX(-6px); }
    75%{ transform: translateZ(-100px) rotateX(8deg) rotateY(3deg) translateX(3px); }
    100%{ transform: translateZ(-120px) rotateX(6deg) rotateY(-3deg) translateX(-6px); }
  }
  @keyframes flagFlow{
    0% { background-position: 48% 50% }
    50% { background-position: 52% 48% }
    100% { background-position: 48% 50% }
  }

  /* ---------- Vignette + cinematic overlays ---------- */
  .vignette {
    position: fixed; inset:0; z-index:4; pointer-events:none;
    background: radial-gradient(60% 60% at 50% 42%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.86) 100%);
    mix-blend-mode: multiply;
  }

  /* ---------- Main Card ---------- */
  .card {
    position: relative;
    z-index: 10;
    width: min(1100px, 95vw);
    background: linear-gradient(180deg, rgba(6,6,6,0.55), rgba(10,8,6,0.32));
    border-radius: 14px;
    padding: 28px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7), 0 0 120px rgba(255,200,60,0.02) inset;
    border: 1px solid rgba(255,200,60,0.04);
    backdrop-filter: blur(6px) saturate(1.05);
    display:flex;
    gap:28px;
    align-items:center;
    justify-content:center;
    flex-wrap:wrap;
  }

  .portrait {
    width: 260px; height: 260px; object-fit:cover;
    border-radius: 14px;
    border: 3px solid rgba(255,200,60,0.07);
    box-shadow: 0 18px 48px rgba(0,0,0,0.55), 0 0 40px rgba(255,200,60,0.06);
    transform-origin:center;
    transition: transform .6s cubic-bezier(.2,.9,.2,1), filter .5s;
  }
  .portrait:hover { transform: translateY(-6px) scale(1.02); filter: brightness(1.03); }

  .content {
    max-width: 640px; min-width: 280px;
    color: #efe7d7;
    text-align:left;
  }

  h1 {
    margin: 0 0 6px 0;
    font-size: clamp(1.6rem, 2.8vw, 2.6rem);
    line-height:1.03;
    color: #ffd985;
    letter-spacing:0.6px;
    text-shadow: 0 8px 30px rgba(0,0,0,0.6), 0 0 30px rgba(255,200,60,0.06);
    display:inline-block;
    transition: text-shadow .6s ease;
    animation: goldPulse 3.6s infinite;
  }

  @keyframes goldPulse {
    0% { text-shadow: 0 8px 24px rgba(0,0,0,0.6), 0 0 14px rgba(255,200,60,0.04); transform: translateY(0); }
    50%{ text-shadow: 0 10px 36px rgba(0,0,0,0.6), 0 0 30px rgba(255,200,60,0.12); transform: translateY(-2px); }
    100%{ text-shadow: 0 8px 24px rgba(0,0,0,0.6), 0 0 14px rgba(255,200,60,0.04); transform: translateY(0); }
  }

  .subtitle {
    margin:6px 0 14px 0;
    color:#d9d1c4;
    opacity:0.95;
    font-size:1rem;
  }

  /* Legacy quote box */
  .legacy {
    font-size: clamp(1rem, 1.6vw, 1.25rem);
    color:#efe7d7;
    min-height: 3.4rem;
    opacity:0;
    transform: translateY(8px);
    transition: opacity 1.1s ease, transform 1.1s ease;
  }
  .legacy.visible { opacity:1; transform: translateY(0); }

  /* Candle area */
  .candle {
    margin-top:12px;
    display:flex; gap:12px; align-items:center;
    color:#e9dfc9;
  }
  .candle img {
    width:70px; height:auto; border-radius:10px;
    filter: drop-shadow(0 0 18px rgba(255,190,60,0.5));
    animation: candleFlicker 2.2s infinite ease-in-out;
  }
  @keyframes candleFlicker {
    0% { transform: translateY(0); filter: drop-shadow(0 0 12px rgba(255,180,60,0.35)); }
    50% { transform: translateY(-2px); filter: drop-shadow(0 0 28px rgba(255,210,110,0.95)); }
    100% { transform: translateY(0); filter: drop-shadow(0 0 12px rgba(255,180,60,0.35)); }
  }

  /* Controls */
  .controls { margin-top:16px; display:flex; gap:12px; flex-wrap:wrap; }
  .btn {
    background: linear-gradient(180deg,#ffd77a,#f0a500);
    border:none; padding:10px 14px; border-radius:10px; cursor:pointer;
    box-shadow:0 8px 30px rgba(240,165,0,0.08); color:#070707; font-weight:700;
  }
  .btn:active{ transform: translateY(2px); }

  /* ---------- Embers (particles) ---------- */
  .embers {
    position: fixed; inset:0; z-index:6; pointer-events:none; overflow:hidden;
  }
  .ember {
    position:absolute; width:6px; height:6px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, rgba(255,230,170,1), rgba(255,170,40,0.95) 40%, rgba(255,130,10,0.6) 70%, transparent 85%);
    box-shadow:0 8px 26px rgba(255,170,60,0.12);
    opacity:0;
    transform: translateY(0) scale(.6);
    will-change: transform, opacity;
    animation: emberFloat linear infinite;
  }
  @keyframes emberFloat {
    0% { transform: translateY(70vh) translateX(0) scale(.6); opacity:0; }
    6% { opacity:1; }
    55%{ opacity:0.85; }
    100% { transform: translateY(-20vh) translateX(60px) scale(1); opacity:0; }
  }

  /* ---------- Mist / haze ---------- */
  .mist {
    position: fixed; inset:0; z-index:5; pointer-events:none;
    background: radial-gradient(circle at 40% 30%, rgba(255,230,200,0.03), transparent 20%),
                radial-gradient(circle at 70% 70%, rgba(255,200,120,0.02), transparent 18%);
    opacity: 0.7; mix-blend-mode: screen;
    animation: slowDrift 20s linear infinite;
  }
  @keyframes slowDrift { 0% { transform: translateY(0) } 50% { transform: translateY(-20px) } 100% { transform: translateY(0) } }

  /* ---------- Rain (very subtle) ---------- */
  .rain { position: fixed; inset:0; z-index:7; pointer-events:none; opacity:0.14;
    background-image: url('https://i.imgur.com/7h7DPgG.png');
    background-repeat: repeat; mix-blend-mode: screen; animation: rainMove 10s linear infinite;
  }
  @keyframes rainMove { 0%{ background-position:0 0 } 100%{ background-position:0 1000px } }

  /* ---------- Footer small note ---------- */
  .note { position: fixed; bottom: 14px; width:100%; text-align:center; font-size:0.86rem; color:#bdaf97; z-index:12; pointer-events:none; }

  /* Responsive */
  @media (max-width:880px){
    .card{ padding:18px; gap:18px; }
    .portrait{ width:180px; height:180px; }
    .content { max-width: 100%; text-align:center; }
  }
</style>
</head>
<body>

  <!-- flag, vignette, overlays (z-index low to high) -->
  <div class="flag-wrap" aria-hidden="true"><div class="flag" role="img" aria-label="Kenyan flag"></div></div>
  <div class="vignette" aria-hidden="true"></div>

  <!-- embers and mist -->
  <div class="embers" id="embers" aria-hidden="true"></div>
  <div class="mist" aria-hidden="true"></div>
  <div class="rain" aria-hidden="true"></div>

  <!-- center card -->
  <main class="card" role="main" aria-labelledby="title">
    <img class="portrait" src="https://i.imgur.com/2KvB6pP.jpg" alt="Raila Odinga portrait" />
    <div class="content">
      <h1 id="title">üïäÔ∏è Raila Odinga ‚Äî A Nation Remembers</h1>
      <p class="subtitle">Kenya honors a life of courage, service and steadfast hope.</p>

      <div class="legacy" id="legacy" aria-live="polite"></div>
      <div class="candle" role="contentinfo" aria-label="candle">
        <img src="https://i.imgur.com/O9b6nZV.gif" alt="Flickering candle" />
        <div style="font-size:0.95rem;color:#e9dfc9">A light that never fades.</div>
      </div>

      <div class="controls" aria-hidden="false">
        <button class="btn" id="playBtn" title="Play Tribute">‚ñ∂ Play Tribute</button>
        <button class="btn" id="toggleEmbers">‚ú® Embers: On</button>
        <button class="btn" id="toggleMist">üå´Ô∏è Mist: On</button>
      </div>
    </div>
  </main>

  <div class="note">Press <strong>Space</strong> to pause/resume music ‚Ä¢ Designed for cinematic night-gold memorial</div>

  <!-- cinematic orchestral score (royalty-free sample) -->
  <audio id="score" preload="auto" loop>
    <source src="https://cdn.pixabay.com/download/audio/2023/04/04/audio_19c5f53ff7.mp3?filename=violin-melancholy-14773.mp3" type="audio/mpeg">
    <!-- Replace source if you have a preferred track -->
  </audio>

<script>
/* ---------------- Quote sequence ---------------- */
const legacyLines = [
  "A beacon of hope and tireless champion of democracy.",
  "He gave voice to the voiceless and stood for justice.",
  "A leader whose courage inspired a nation.",
  "His memory breathes in every stride for a fair Kenya."
];
const legacyDiv = document.getElementById('legacy');
let li = 0;
function cycleLegacy(){
  if(li < legacyLines.length){
    legacyDiv.textContent = legacyLines[li];
    legacyDiv.classList.add('visible');
    setTimeout(()=>{ legacyDiv.classList.remove('visible'); li++; setTimeout(cycleLegacy, 900); }, 3800);
  } else {
    legacyDiv.textContent = "Memories loaded ‚Ä¢ Forever in our hearts.";
    legacyDiv.classList.add('visible');
  }
}

/* --------------- Embers generation --------------- */
const embersEl = document.getElementById('embers');
let embersOn = true;
const EMBER_COUNT = 26;
function spawnEmbers(){
  embersEl.innerHTML = '';
  for(let i=0;i<EMBER_COUNT;i++){
    const e = document.createElement('div');
    e.className = 'ember';
    const size = 4 + Math.random()*10;
    e.style.width = size+'px'; e.style.height = size+'px';
    e.style.left = (5 + Math.random()*90) + '%';
    e.style.top = (60 + Math.random()*35) + '%';
    const dur = 9 + Math.random()*22;
    const delay = -(Math.random()*dur);
    e.style.animationDuration = dur+'s';
    e.style.animationDelay = delay+'s';
    embersEl.appendChild(e);
  }
}
spawnEmbers();

/* --------------- Mist toggle --------------- */
const mistEl = document.querySelector('.mist');
let mistOn = true;

/* --------------- Audio handling (fade in/out + fallback) --------------- */
const score = document.getElementById('score');
const playBtn = document.getElementById('playBtn');
let audioTargetVol = 0.16;

function fadeIn(audio, target = audioTargetVol, step = 0.01, ms = 120){
  audio.volume = 0;
  audio.play().catch(()=>{ /* autoplay blocked; user must click */ });
  const t = setInterval(()=>{ if(audio.volume < target - 0.0001) audio.volume = Math.min(target, audio.volume + step); else clearInterval(t); }, ms);
}
function fadeOut(audio, step = 0.01, ms = 120){
  const t = setInterval(()=>{ if(audio.volume > step + 0.0001) audio.volume = Math.max(0, audio.volume - step); else { audio.pause(); audio.currentTime = 0; clearInterval(t);} }, ms);
}

function startExperience(){
  // enable embers/mist defaults
  embersOn = true; mistOn = true;
  document.getElementById('toggleEmbers').textContent = '‚ú® Embers: On';
  document.getElementById('toggleMist').textContent = 'üå´Ô∏è Mist: On';
  fadeIn(score);
  cycleLegacy();
  playBtn.style.display = 'none';
}

// Try autoplay
async function tryAutoplay(){
  try {
    await score.play();
    // Some browsers allow autoplay but at 0 volume; we ensure a fade-in
    score.pause();
    score.currentTime = 0;
    fadeIn(score);
    playBtn.style.display = 'none';
  } catch(e){
    // blocked ‚Äî leave the play button visible
    playBtn.style.display = 'inline-block';
  }
}

/* --------------- Controls --------------- */
playBtn.addEventListener('click', () => {
  startExperience();
});

document.getElementById('toggleEmbers').addEventListener('click', (e)=>{
  embersOn = !embersOn;
  embersEl.style.opacity = embersOn ? '1' : '0';
  e.target.textContent = embersOn ? '‚ú® Embers: On' : '‚ú® Embers: Off';
});

document.getElementById('toggleMist').addEventListener('click', (e)=>{
  mistOn = !mistOn;
  mistEl.style.opacity = mistOn ? '0.7' : '0';
  e.target.textContent = mistOn ? 'üå´Ô∏è Mist: On' : 'üå´Ô∏è Mist: Off';
});

/* Spacebar toggles music */
window.addEventListener('keydown', (ev)=>{
  if(ev.code === 'Space'){ ev.preventDefault();
    if(score.paused){ fadeIn(score); playBtn.style.display='none'; }
    else { fadeOut(score); playBtn.style.display='inline-block'; }
  }
});

/* Small card hover polish */
const card = document.querySelector('.card');
card.addEventListener('mouseenter', ()=> card.style.transform = 'translateY(-6px)');
card.addEventListener('mouseleave', ()=> card.style.transform = 'translateY(0)');

/* ---------- Start on load (attempt) ---------- */
window.addEventListener('load', ()=>{
  tryAutoplay();
  // Start the quotes regardless of autoplay
  cycleLegacy();
  // gently show embers/mist after small delay for reveal
  setTimeout(()=>{ embersEl.style.opacity = '1'; mistEl.style.opacity = '0.7'; }, 600);
  // ensure responsive ember regen on resize to keep density reasonable
  window.addEventListener('resize', ()=> { spawnEmbers(); });
});

/* Performance note: lower EMBER_COUNT or set embersEl.style.opacity='0' to reduce GPU */
</script>
</body>
</html>
