<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Raila Odinga — Leadership Tribute</title>
<link rel="icon" href="https://i.imgur.com/2KvB6pP.jpg" type="image/jpeg">
<style>
  /* --- reset --- */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background:#020202;
    color:#efe7d7;
    -webkit-font-smoothing:antialiased;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
  }

  /* --- flag background (visible) --- */
  .flag-wrap{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden;}
  .flag{
    position:absolute;left:-12%;top:-10%;width:124%;height:120%;
    background-image:url('https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Kenya.svg');
    background-size:150%; background-position:center;
    opacity:0.20; filter: blur(1px) saturate(0.85) contrast(0.95);
    transform-origin:center;
    animation:flagWave 14s ease-in-out infinite;
    mix-blend-mode:screen;
  }
  @keyframes flagWave{
    0%{transform:translate3d(-3px,0,0) rotateY(-1deg) scale(1.02); background-position:47% 50%}
    50%{transform:translate3d(3px,-4px,0) rotateY(1deg) scale(1.01); background-position:53% 49%}
    100%{transform:translate3d(-3px,0,0) rotateY(-1deg) scale(1.02); background-position:47% 50%}
  }

  /* --- vignette / cinematic overlays --- */
  .vignette{position:fixed;inset:0;z-index:2;pointer-events:none;
    background:radial-gradient(60% 60% at 50% 42%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.42) 60%, rgba(0,0,0,0.86) 100%);
    mix-blend-mode:multiply;
  }
  .mist{position:fixed;inset:0;z-index:3;pointer-events:none;opacity:0.7;
    background:radial-gradient(circle at 40% 30%, rgba(255,230,200,0.02), transparent 20%),
               radial-gradient(circle at 70% 70%, rgba(255,200,120,0.01), transparent 18%);
    mix-blend-mode:screen; animation:drift 20s linear infinite;}
  @keyframes drift{0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}

  /* --- embers --- */
  .embers{position:fixed;inset:0;z-index:4;pointer-events:none;overflow:hidden}
  .ember{position:absolute;border-radius:50%;background:radial-gradient(circle at 30% 30%, rgba(255,230,170,1), rgba(255,170,40,0.95));box-shadow:0 8px 22px rgba(255,170,60,0.12);opacity:0;transform:translateY(0) scale(.6);animation:emberFloat linear infinite}
  @keyframes emberFloat{0%{transform:translateY(80vh) translateX(0) scale(.5);opacity:0}6%{opacity:1}60%{opacity:0.85}100%{transform:translateY(-20vh) translateX(60px) scale(1);opacity:0}}

  /* --- Welcome overlay (fade-through) --- */
  .welcome {
    position:fixed; inset:0; z-index:60;
    display:flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg, rgba(0,0,0,0.95), rgba(0,0,0,0.98));
  }
  .welcome-card{
    text-align:center; color:#f6e9c7; padding:34px; border-radius:12px;
    background:linear-gradient(180deg, rgba(8,6,4,0.72), rgba(12,10,8,0.3));
    border:1px solid rgba(255,200,60,0.04); box-shadow:0 30px 90px rgba(0,0,0,0.8);
    max-width:880px;
  }
  .welcome-title{
    font-size:clamp(1.2rem,3vw,2rem); color:#ffd985; margin-bottom:10px;
    text-shadow:0 8px 30px rgba(0,0,0,0.6);
  }
  .welcome-sub{ color:#d7cfc0; margin-bottom:18px; font-size:1rem }
  .enter-anim { display:inline-block; width:64px; height:64px; border-radius:12px; background:linear-gradient(180deg,#ffd77a,#f0a500); box-shadow:0 12px 30px rgba(240,165,0,0.14) inset, 0 6px 30px rgba(0,0,0,0.6); margin-top:8px; }

  /* --- Main card (centerpiece rectangle) --- */
  .stage {
    z-index:10; position:relative; width:min(1100px,94vw); max-height:92vh; overflow:hidden;
    display:flex; align-items:center; justify-content:center;
  }
  .card {
    width:100%; background:linear-gradient(180deg, rgba(6,6,6,0.62), rgba(10,8,6,0.28));
    border-radius:14px; padding:28px; display:flex; gap:28px; align-items:flex-start; justify-content:center;
    box-shadow: 0 30px 80px rgba(0,0,0,0.72), inset 0 0 60px rgba(255,200,60,0.02);
    border:1px solid rgba(255,200,60,0.04); backdrop-filter: blur(6px) saturate(1.05);
    transform: translateY(24px); opacity:0; transition: opacity 1s ease, transform 1s cubic-bezier(.2,.9,.2,1);
    z-index:11;
  }

  /* Rectangle placeholder for portrait (centerpiece) */
  .portrait-rect {
    width: 720px; max-width: 86vw; height: 420px; background:linear-gradient(180deg,#111,#0b0b0b);
    border-radius:10px; border:6px solid rgba(255,205,90,0.06); box-shadow:0 24px 60px rgba(0,0,0,0.7), 0 0 36px rgba(255,200,60,0.04);
    display:flex; align-items:center; justify-content:center; overflow:hidden; position:relative;
  }
  .portrait-rect img{ width:100%; height:100%; object-fit:cover; display:block; }

  /* subtle gold rim reflection */
  .portrait-rect::after{
    content:""; position:absolute; inset:0; pointer-events:none; border-radius:10px;
    box-shadow: inset 0 60px 160px rgba(255,200,80,0.02);
  }

  /* --- three candles row --- */
  .candles {
    display:flex; gap:22px; margin-top:18px; justify-content:center; width:100%;
  }
  .candle {
    width:66px; height:120px; background: linear-gradient(180deg,#0d0d0d,#1c140b); border-radius:12px; position:relative;
    box-shadow: 0 12px 26px rgba(0,0,0,0.6), inset 0 -10px 30px rgba(255,200,60,0.02);
    display:flex; align-items:flex-start; justify-content:center;
  }
  .wax { position:absolute; bottom:18px; width:46px; height:84px; background:linear-gradient(180deg,#f9e6b8,#f1c57a); border-radius:8px; box-shadow: inset 0 -6px 12px rgba(0,0,0,0.06); }
  .wick { position:absolute; bottom:94px; width:3px; height:18px; background:#0b0b0b; border-radius:2px; left:50%; transform:translateX(-50%); z-index:3; }
  .flame {
    position:absolute; bottom:106px; left:50%; transform:translateX(-50%); width:22px; height:36px; border-radius:50% 50% 40% 40%;
    background: radial-gradient(circle at 30% 25%, rgba(255,245,210,1), rgba(255,200,60,0.95) 40%, rgba(255,140,30,0.6) 60%, rgba(255,100,20,0.15) 80%);
    filter: drop-shadow(0 0 12px rgba(255,180,60,0.6));
    animation: flameFlicker 1.6s infinite ease-in-out;
    z-index:4;
  }
  /* tiny inner spark for realism */
  .flame::after { content:""; position:absolute; left:50%; top:30%; transform:translate(-50%,-20%); width:8px; height:12px; border-radius:50%; background: radial-gradient(circle at 30% 30%, #fff7d7, rgba(255,230,160,0.9)); filter: blur(0.2px); }

  @keyframes flameFlicker {
    0% { transform: translateX(-50%) translateY(0) scaleY(1); opacity:1; filter: drop-shadow(0 0 10px rgba(255,180,60,0.45)); }
    50% { transform: translateX(-50%) translateY(-3px) scaleY(1.06); opacity:0.98; filter: drop-shadow(0 0 22px rgba(255,200,80,0.65)); }
    100% { transform: translateX(-50%) translateY(0) scaleY(1); opacity:1; filter: drop-shadow(0 0 10px rgba(255,180,60,0.45)); }
  }

  /* --- quote --- */
  .quote { margin-top:18px; font-size:1.12rem; color:#f3eac2; text-align:center; font-style:italic; opacity:0.0; transform:translateY(10px); transition:opacity .9s ease, transform .9s ease; }
  .quote.visible{ opacity:1; transform:translateY(0); }

  /* small note */
  .note { position:fixed; bottom:12px; left:0; right:0; text-align:center; color:#bdaf97; z-index:30; font-size:0.9rem; pointer-events:none; }

  @media (max-width:820px){
    .portrait-rect{ height:52vw; width:92vw; }
    .card { padding:18px; gap:16px; flex-direction:column; align-items:center; }
    .portrait-rect{ border-width:4px; }
  }
</style>
</head>
<body>

  <!-- flag & overlays -->
  <div class="flag-wrap" aria-hidden="true"><div class="flag" aria-hidden="true"></div></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="mist" aria-hidden="true"></div>
  <div class="embers" id="embers" aria-hidden="true"></div>

  <!-- welcome (fade-through) -->
  <div class="welcome" id="welcome">
    <div class="welcome-card" role="dialog" aria-label="Welcome">
      <div class="welcome-title">Welcome to the Tribute</div>
      <div class="welcome-sub">A ceremonial showcase of leadership and legacy</div>
      <div class="enter-anim" aria-hidden="true"></div>
    </div>
  </div>

  <!-- main stage -->
  <div class="stage" id="stage" aria-hidden="false">
    <div class="card" id="card">
      <div style="width:100%;display:flex;flex-direction:column;align-items:center;">
        <!-- portrait placeholder: replace the src "portrait-placeholder.jpg" with your image -->
        <div class="portrait-rect" id="portraitRect" aria-label="Portrait placeholder">
          <img id="portraitImg" src="portrait-placeholder.jpg" alt="Portrait placeholder">
        </div>

        <!-- candles row -->
        <div class="candles" style="width:100%;max-width:520px;">
          <div class="candle"><div class="wax"></div><div class="wick"></div><div class="flame"></div></div>
          <div class="candle"><div class="wax"></div><div class="wick"></div><div class="flame"></div></div>
          <div class="candle"><div class="wax"></div><div class="wick"></div><div class="flame"></div></div>
        </div>

        <!-- quote -->
        <div class="quote" id="quoteText">Legacy Lives On — Forever in Our Hearts.</div>

        <!-- credits / small text (non-instructional) -->
        <div class="note">An honorary leadership tribute</div>
      </div>
    </div>
  </div>

  <!-- audio placeholder (replace with legally hosted file if you have rights) -->
  <audio id="score" preload="auto" loop>
    <source src="your-licensed-jamaica-farewell.mp3" type="audio/mpeg">
  </audio>

<script>
  // generate embers
  const embersEl = document.getElementById('embers');
  const EMBER_COUNT = 20;
  function spawnEmbers(){
    embersEl.innerHTML = '';
    for(let i=0;i<EMBER_COUNT;i++){
      const e = document.createElement('div'); e.className='ember';
      const size = 4 + Math.random()*10;
      e.style.width = size + 'px'; e.style.height = size + 'px';
      e.style.left = (5 + Math.random()*90) + '%';
      e.style.top = (60 + Math.random()*30) + '%';
      const dur = 9 + Math.random()*18;
      const delay = -(Math.random()*dur);
      e.style.animationDuration = dur + 's';
      e.style.animationDelay = delay + 's';
      embersEl.appendChild(e);
    }
  }
  spawnEmbers();
  window.addEventListener('resize', spawnEmbers);

  // cinematic welcome -> fade-through transition
  const welcome = document.getElementById('welcome');
  const card = document.getElementById('card');
  const quoteText = document.getElementById('quoteText');
  const score = document.getElementById('score');
  const portraitImg = document.getElementById('portraitImg');

  // portrait fallback (neutral SVG) if user hasn't replaced the placeholder
  portraitImg.addEventListener('error', () => {
    portraitImg.src = 'data:image/svg+xml;utf8,' +
      encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700"><rect width="100%" height="100%" fill="#0b0b0b"/><g fill="#ffd985" font-family="Segoe UI, Arial"><text x="50%" y="46%" font-size="40" text-anchor="middle">Portrait Placeholder</text><text x="50%" y="56%" font-size="20" text-anchor="middle">Replace with your rectangular image</text></g></svg>');
  });

  // sequence timings
  const WELCOME_DURATION = 5000; // 5s welcome
  const TRANSITION_DURATION = 900; // duration of fade-through

  // reveal main card visually (no controls)
  function revealMain(){
    card.style.opacity = '1';
    card.style.transform = 'translateY(0)';
    // show quote after short delay
    setTimeout(()=> quoteText.classList.add('visible'), 700);
  }

  // audio fade helpers
  function fadeInAudio(audio, target = 0.18, step = 0.01, interval = 160){
    try { audio.muted = true; } catch(e){}
    audio.volume = 0;
    audio.play().catch(()=>{/* blocked => visual still runs */});
    const tick = setInterval(()=>{
      if(audio.volume < target - 0.0001){
        audio.volume = Math.min(target, +(audio.volume + step).toFixed(3));
      } else clearInterval(tick);
    }, interval);
  }
  function tryUnmuteAndFade(audio, target = 0.18){
    // best-effort: some browsers allow unmute after play started muted
    try {
      audio.muted = false;
      fadeInAudio(audio, target);
    } catch(e){
      // if browser disallows, keep visuals silent
      try{ audio.muted = true; }catch(_){} 
    }
  }

  // run the cinematic sequence
  window.addEventListener('load', async () => {
    // start with welcome visible
    // after welcome duration, fade welcome out (soft cinematic fade-through)
    setTimeout(() => {
      welcome.style.transition = `opacity ${TRANSITION_DURATION}ms ease`;
      welcome.style.opacity = '0';
      // tiny delay before removing from DOM so fade looks smooth
      setTimeout(() => {
        welcome.remove();
        // reveal card and start audio (muted play then unmute+fade)
        revealMain();

        // attempt to play muted first (allowed by many browsers)
        (async () => {
          try {
            score.muted = true;
            await score.play();
          } catch(e) {
            // play blocked
          } finally {
            // after short cinematic gap, attempt to unmute + fade
            setTimeout(() => tryUnmuteAndFade(score, 0.18), 700);
          }
        })();
      }, TRANSITION_DURATION + 60);
    }, WELCOME_DURATION);
  });

  // accessibility: Space toggles audio (works even if browser blocks unmuting)
  window.addEventListener('keydown', (e) => {
    if(e.code === 'Space'){
      e.preventDefault();
      if(score.paused){
        // try to start
        score.play().catch(()=>{});
        tryUnmuteAndFade(score, 0.18);
      } else {
        // fade out then pause
        const fadeOut = setInterval(()=>{
          if(score.volume > 0.02) score.volume = Math.max(0, +(score.volume - 0.02).toFixed(3));
          else { score.pause(); clearInterval(fadeOut); }
        }, 100);
      }
    }
  });
</script>
</body>
</html>
