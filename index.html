<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Raila Odinga — Leadership Tribute (Auto)</title>
<link rel="icon" href="https://i.imgur.com/2KvB6pP.jpg" type="image/jpeg">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:"Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background:#030303; color:#efe7d7;
    -webkit-font-smoothing:antialiased;
    display:flex; align-items:center; justify-content:center;
    overflow:auto; padding:28px;
  }

  /* Flag background */
  .flag-wrap{ position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden; }
  .flag{
    position:absolute; left:-10%; top:-8%; width:120%; height:116%;
    background-image:url('https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Kenya.svg');
    background-size:cover; background-position:center;
    opacity:0.12; filter: blur(1px) saturate(0.7) contrast(0.98);
    transform-origin:center; animation:flagSlow 16s ease-in-out infinite; mix-blend-mode:screen;
  }
  @keyframes flagSlow {
    0%{ transform: translate3d(-2px,0,0) rotateY(-1deg) scale(1.02); background-position:48% 50%; }
    50%{ transform: translate3d(2px,-3px,0) rotateY(1deg) scale(1.01); background-position:52% 48%; }
    100%{ transform: translate3d(-2px,0,0) rotateY(-1deg) scale(1.02); background-position:48% 50%; }
  }

  /* Vignette / film look */
  .vignette{ position:fixed; inset:0; z-index:5; pointer-events:none;
    background: radial-gradient(60% 60% at 50% 42%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.42) 60%, rgba(0,0,0,0.86) 100%);
    mix-blend-mode:multiply;
  }

  /* Mist & embers */
  .mist{ position:fixed; inset:0; z-index:6; pointer-events:none; opacity:0.68;
    background: radial-gradient(circle at 40% 30%, rgba(255,230,200,0.02), transparent 20%),
                radial-gradient(circle at 70% 70%, rgba(255,200,120,0.01), transparent 18%);
    mix-blend-mode:screen; animation:drift 20s linear infinite;
  }
  @keyframes drift { 0%{transform:translateY(0)} 50%{transform:translateY(-20px)} 100%{transform:translateY(0)} }

  .embers{ position:fixed; inset:0; z-index:7; pointer-events:none; overflow:hidden; }
  .ember{ position:absolute; width:8px; height:8px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, rgba(255,230,170,1), rgba(255,170,40,0.95));
    box-shadow:0 8px 26px rgba(255,170,60,0.12); opacity:0; transform:translateY(0) scale(.6);
    will-change: transform, opacity; animation: emberFloat linear infinite;
  }
  @keyframes emberFloat {
    0%{ transform: translateY(80vh) translateX(0) scale(.5); opacity:0; }
    6%{ opacity:1; }
    60%{ opacity:0.9; }
    100%{ transform: translateY(-20vh) translateX(60px) scale(1); opacity:0; }
  }

  /* Main cinematic card */
  .card{
    z-index:10; position:relative; width:min(1100px,96vw);
    background: linear-gradient(180deg, rgba(6,6,6,0.62), rgba(10,8,6,0.28));
    border-radius:14px; padding:30px; display:flex; gap:28px; align-items:flex-start;
    box-shadow: 0 30px 80px rgba(0,0,0,0.72), inset 0 0 60px rgba(255,200,60,0.02);
    border:1px solid rgba(255,200,60,0.04); backdrop-filter: blur(6px) saturate(1.05);
    transform: translateY(20px); opacity: 0; transition: transform 1.1s cubic-bezier(.2,.9,.2,1), opacity 1.1s ease;
  }

  .portrait-wrap{ width:300px; min-width:220px; display:flex; flex-direction:column; align-items:center; gap:14px; }
  .portrait{ width:240px; height:240px; object-fit:cover; border-radius:10px;
    border: 6px solid rgba(255,205,90,0.06); box-shadow: 0 16px 48px rgba(0,0,0,0.64);
    background: linear-gradient(180deg, rgba(0,0,0,0.14), rgba(0,0,0,0.04)); transform-origin:center;
  }

  .state-badge{ background: linear-gradient(180deg,#ffd77a,#f0a500); color:#060606; padding:8px 12px; border-radius:10px; font-weight:700; box-shadow:0 6px 18px rgba(240,165,0,0.08); }

  .content{ flex:1 1 420px; min-width:260px; color:#efe7d7; }
  h1{ margin:0; color:#ffd985; font-size:clamp(1.6rem,3.0vw,2.6rem); letter-spacing:0.6px; animation: goldPulse 3.6s infinite; }
  @keyframes goldPulse { 0%{ transform:translateY(0); text-shadow:0 8px 24px rgba(0,0,0,0.6), 0 0 14px rgba(255,200,60,0.04) } 50%{ transform:translateY(-2px); text-shadow:0 10px 36px rgba(0,0,0,0.6), 0 0 30px rgba(255,200,60,0.12)} 100%{ transform:translateY(0); text-shadow:0 8px 24px rgba(0,0,0,0.6), 0 0 14px rgba(255,200,60,0.04) } }

  .subtitle{ margin-top:8px; color:#d9d1c4; font-size:1rem; }
  .timeline{ margin-top:14px; padding:14px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:10px; color:#efe7d7; line-height:1.6; font-size:0.98rem; }
  .timeline ul{ padding-left:18px; }

  .legacy-quote{ margin:22px 0; font-size:1.18rem; color:#f3eac2; font-style:italic; min-height:56px; opacity:0; transform:translateY(10px); transition: opacity .9s ease, transform .9s ease; }
  .legacy-quote.visible{ opacity:1; transform:translateY(0); }

  .candle-area{ margin-top:14px; display:flex; flex-direction:column; align-items:center; gap:8px; }
  .candle-img{ width:98px; border-radius:8px; filter: drop-shadow(0 0 18px rgba(255,190,60,0.5)) drop-shadow(0 0 30px rgba(255,140,30,0.12)); animation:candleGlow 1.8s infinite ease-in-out alternate; }
  @keyframes candleGlow { 0%{ transform:translateY(0); filter:brightness(1) drop-shadow(0 0 16px rgba(255,190,60,0.4)); } 100%{ transform:translateY(-2px); filter:brightness(1.25) drop-shadow(0 0 30px rgba(255,220,110,0.7)); } }

  .sources{ margin-top:14px; font-size:0.9rem; color:#c9bfae; }
  .page-note{ position:fixed; bottom:14px; width:100%; text-align:center; font-size:0.9rem; color:#bdaf97; z-index:50; pointer-events:none; }

  @media (max-width:900px){
    .card{ flex-direction:column; align-items:center; padding:20px; gap:18px; }
    .portrait{ width:180px; height:180px; }
    .portrait-wrap{ width:100%; align-items:center; }
    .content{ text-align:center; }
  }
</style>
</head>
<body>

  <!-- flag + overlays -->
  <div class="flag-wrap" aria-hidden="true"><div class="flag" aria-hidden="true"></div></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="mist" aria-hidden="true"></div>
  <div class="embers" id="embers" aria-hidden="true"></div>

  <!-- main cinematic card -->
  <main class="card" id="card" role="main" aria-labelledby="title">
    <div class="portrait-wrap">
      <img class="portrait" src="https://i.imgur.com/2KvB6pP.jpg" alt="Raila Odinga portrait" id="portrait">
      <div class="state-badge" aria-hidden="true">State Tribute • Leadership</div>
    </div>

    <div class="content">
      <h1 id="title">The Right Honourable Raila Amolo Odinga</h1>
      <div class="subtitle">Leadership • Legacy • Vision</div>

      <section class="timeline" aria-labelledby="bioTitle">
        <h3 id="bioTitle" style="color:#ffd77a;margin:0 0 8px 0;">Biography & Highlights</h3>
        <ul>
          <li><strong>Born:</strong> 7 January 1945, Maseno, Kenya.</li>
          <li><strong>Political life:</strong> A central figure in Kenya’s push for democratic reform.</li>
          <li><strong>Public service:</strong> Served as Prime Minister (2008–2013) and led multiple national initiatives.</li>
          <li><strong>Legacy:</strong> Known for resilience, advocacy, and inspiring public dialogue.</li>
        </ul>
      </section>

      <div class="legacy-quote" id="legacyQuote" aria-live="polite"></div>

      <div class="candle-area" aria-hidden="false">
        <img class="candle-img" id="candleImg" src="https://i.imgur.com/txgKx8E.gif" alt="Flickering candle">
        <div style="color:#e9dfc9;font-size:0.95rem">“A guiding light for generations.”</div>
      </div>

      <div class="sources" id="sources" aria-hidden="false">
        <strong style="color:#ffd77a;">Credits</strong>
        <div style="margin-top:8px;color:#c9bfae;font-size:0.92rem">
          Designed as an honorary leadership showcase. Replace the audio source below with a legally-hosted copy of the song if you have rights.
        </div>
      </div>
    </div>
  </main>

  <div class="page-note">Designed as an honorary leadership tribute — visuals will start automatically.</div>

  <!-- Audio placeholder: replace with your legally-hosted Jamaica Farewell if you have rights -->
  <audio id="score" preload="auto" loop>
    <source src="your-licensed-jamaica-farewell.mp3" type="audio/mpeg">
  </audio>

<script>
  /* ===== Utility: fade in audio volume ===== */
  function fadeInAudio(audio, target = 0.18, step = 0.01, interval = 160){
    // try to unmute & fade in
    try {
      audio.muted = false;
    } catch(e){}
    audio.volume = 0;
    audio.play().catch(()=>{ /* if still blocked, visuals will continue silently */ });
    const t = setInterval(() => {
      if (audio.volume < target - 0.0001) audio.volume = Math.min(target, +(audio.volume + step).toFixed(3));
      else clearInterval(t);
    }, interval);
  }

  /* ===== Fade out helper (unused but kept for polish) ===== */
  function fadeOutAudio(audio, step = 0.01, interval = 160){
    const t = setInterval(() => {
      if (audio.volume > step + 0.0001) audio.volume = Math.max(0, +(audio.volume - step).toFixed(3));
      else { audio.pause(); audio.currentTime = 0; clearInterval(t); }
    }, interval);
  }

  /* ===== Quotes cycling ===== */
  const quotes = [
    "A towering statesman in Kenya's modern history.",
    "A voice for democracy, dignity, and service.",
    "His courage inspired millions across generations."
  ];
  const legacyQuoteEl = document.getElementById('legacyQuote');
  let qIndex = 0;
  function cycleQuotes(){
    if (qIndex < quotes.length){
      legacyQuoteEl.textContent = quotes[qIndex];
      legacyQuoteEl.classList.add('visible');
      setTimeout(()=>{
        legacyQuoteEl.classList.remove('visible');
        qIndex++;
        setTimeout(cycleQuotes, 1000);
      }, 4200);
    } else {
      legacyQuoteEl.textContent = "Leadership that endures — inspiring the next generation.";
      legacyQuoteEl.classList.add('visible');
    }
  }

  /* ===== Embers generation ===== */
  const embersEl = document.getElementById('embers');
  const EMBER_COUNT = 26;
  function spawnEmbers(){
    embersEl.innerHTML = '';
    for (let i=0;i<EMBER_COUNT;i++){
      const e = document.createElement('div'); e.className = 'ember';
      const s = 4 + Math.random()*10;
      e.style.width = s + 'px'; e.style.height = s + 'px';
      e.style.left = (5 + Math.random()*90) + '%';
      e.style.top = (60 + Math.random()*35) + '%';
      const dur = 9 + Math.random()*22; const delay = -(Math.random()*dur);
      e.style.animationDuration = dur + 's'; e.style.animationDelay = delay + 's';
      embersEl.appendChild(e);
    }
  }
  spawnEmbers();

  /* ===== Auto-start cinematic sequence (Option A) ===== */
  const score = document.getElementById('score');
  const card = document.getElementById('card');

  // Step 1: reveal card visuals
  function revealCard(){
    requestAnimationFrame(()=> {
      card.style.opacity = '1';
      card.style.transform = 'translateY(0)';
    });
  }

  // Step 2: attempt to autoplay muted then unmute+fade
  window.addEventListener('load', async () => {
    // reveal visuals first
    revealCard();

    // Try play muted first (this is usually allowed)
    try {
      score.muted = true;
      await score.play(); // play muted
    } catch(e) {
      // Play failed — continue visuals silently
    }

    // After a short cinematic delay, attempt to unmute + fade in
    setTimeout(() => {
      try {
        // Unmute then fade in — some browsers will allow unmuting after play started muted
        score.muted = false;
        fadeInAudio(score, 0.18, 0.01, 160);
      } catch (err) {
        // If unmuting is blocked, keep audio muted (visuals still run)
        try { score.muted = true; } catch(e){}
      }
    }, 900); // short delay for cinematic reveal; adjust if desired

    // Start quote cycle slightly after reveal
    setTimeout(cycleQuotes, 600);
  });

  /* ===== Accessibility: portrait fallback if image fails ===== */
  const portrait = document.getElementById('portrait');
  portrait.addEventListener('error', ()=> {
    portrait.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400"><rect width="100%" height="100%" fill="%23030303"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23ffd985" font-family="Segoe UI, Arial" font-size="18">Portrait Unavailable</text></svg>';
  });

  // regenerate embers on resize
  window.addEventListener('resize', () => spawnEmbers());
</script>
</body>
</html>
